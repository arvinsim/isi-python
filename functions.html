<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Functions</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="revealjs/css/reveal.css">
		<link rel="stylesheet" href="revealjs/css/theme/black.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="revealjs/lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
        <script src="revealjs/lib/js/html5shiv.js"></script>
        <![endif]-->
	</head>

	<body>
		<div class="reveal">
			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>Functions</h1>
				</section>

                <section>
                    <h2>What are Functions?</h2>

                    <section></section>

                    <section>
                        <p>A function is a named sequence of statements that performs a computation</p>
                    </section>

                    <section>
                        <p>We have been using functions already in our previous lessons.</p>
                        <pre><code>
    len() cmp() list() min() max() range() int() float() str()
                        </code></pre>
                    </section>

                    <section>
                        <p>These are called <em>built-in</em> functions. Python already defines what they do and how
                        they behave.</p>
                    </section>
                </section>

                <section>
                    <h2>Writing your own functions</h2>

                    <section></section>

                    <section>
                        <p>Although built-in functions are useful, it certainly does not cover all our use cases. That's
                            why programming languages allow us to define our own.</p>
                    </section>

                    <section>
                        <h3>Defining a function</h3>

                        <p>Pseudocode</p>
                        <pre><code>
    def [function_name]([parameters]):
        [code block]
        ...
        [optional return]
                        </code></pre>
                    </section>

                    <section>
                        <p>Basic Examples</p>

                        <pre><code>
    def foo(): # def is the keyword that indicates this is a function
        u = "thought"
        print u

    def who(goat): # 'who' is the name of the function
        print goat

    def bar(b, c): # b, c are parameters of the function
        b = "latitude"
        c = 2
        print b
        print c
                        </code></pre>
                    </section>

                    <section>
                        <p>Defining a function is all well and good, but it does nothing on its own. To actually
                            execute the statements inside a function, you need to "call" it.
                        </p>
                    </section>

                    <section>
                        <h3>Calling a Function</h3>

                        <pre><code>
    function_name()
    function_name([arguments])
                        </code></pre>
                    </section>

                    <section>
                        <h3>Basic Examples</h3>
                        <pre><code>
    foo()
    who("you?")
    bar("walay", "pulos")
                        </code></pre>
                    </section>
                </section>

                <section>
                    <h2>Flow of Execution</h2>

                    <section></section>

                    <section>
                        <p>Our programs so far has been executed in a linear fashion, from top to bottom</p>
                        <p>You will soon see that functions work differently.</p>
                    </section>

                    <section>
                        <p>Take for example this simple function declarations and calls</p>
                        <pre><code>
    print "start Program"

    def foo():
        print "in function foo"

    def bar():
        print "in function bar"

    print "calling the functions..."
    bar()
    foo()

    print "end Program"
                        </code></pre>
                    </section>

                    <section>
                        <p>If we run the code above, the result would be</p>
                        <pre><code>
    start Program
    calling the functions...
    in function bar
    in function foo
    end Program
                        </code></pre>
                    </section>

                    <section>
                        <p>After a function is done, the flow of execution goes back to where it was called.</p>
                        <a href="http://www.pythontutor.com/visualize.html#code=print+%22start+Program%22%0A%0Adef+foo()%3A%0A++++print+%22in+function+foo%22%0A%0Adef+bar()%3A%0A++++print+%22in+function+bar%22%0A%0Aprint+%22calling+the+functions...%22%0Abar()%0Afoo()%0A%0Aprint+%22end+Program%22&mode=display&origin=opt-frontend.js&cumulative=false&heapPrimitives=false&textReferences=false&py=2&rawInputLstJSON=%5B%5D&curInstr=0">A really nifty visualization</a>
                    </section>

                    <section>
                        <p>You need to define a function first before it can be used(just like variables).
                        Otherwise, Python will raise an error</p>
                        <pre><code>
    excited_ra_kau() # This will raise an error

    def excited_ra_kau():
        pass
                        </code></pre>
                    </section>
                </section>

                <section>
                    <h2>Passing Arguments</h2>

                    <section></section>

                    <section>
                        <p>The function examples that we used so far just executes a bunch of statements. It's no different from
                        just running them normally.</p>
                        <p class="fragment">It would be more useful if we could somehow influence the statements inside it.</p>
                    </section>

                    <section>
                        <p>To do that, we need to learn how to pass arguments</p>
                    </section>

                    <section>
                        <h3>Basic Example</h3>
                        <pre><code>
    def double(number):
        print number * 2

    double(5) # 5 is the argument. This function call outputs 10
                        </code></pre>
                    </section>


                    <section>
                        <p>There can be more than one parameter</p>

                        <pre><code>
    def show_full_name(first_name, last_name):
        print "My full name is {} {}".format(first_name, last_name)

    show_full_name("Arthur", "Simon")
                        </code></pre>
                    </section>

                    <section>
                        <p>Any variable type can be passed to functions...</p>
                        <pre><code>
    def yay(lots, of, parameters, here):
        print lots
        print of
        print parameters
        print here

    yay(1 + 2, "what", [100,200], { "ha": "ho" })
                        </code></pre>
                    </section>

                    <section>
                        <p>...even functions themselves</p>

                        <pre><code>
    def foo(f):
        print f

    def bar():
        pass

    foo(bar) # Outputs &lt;function bar at 0x1062eb0c8&gt;
                        </code></pre>
                    </section>

                    <section>
                        <p>Example of how to use passed functions</p>
                        <pre><code>
    def minion(x):
        print "minion has the {}".format(x)

    def boss(f,x):
        f(x)

    boss(minion, "banana!")
                        </code></pre>
                    </section>

                    <section>
                        <p>What we saw are just the basics. Later we will tackle more advanced forms of parameters</p>
                    </section>
                </section>

				<section>
                    <h2>Functions with return values</h2>

                    <section></section>

                    <section>
                        <p>So far, most of our functions just do some operations and print out some stuff</p>
                        <pre><code>
    def show_greeting():
        print "Hello World!"

    show_greeting() # Prints the greeting
                        </code></pre>
                    </section>

                    <section>
                        <p>There is a keyword that allows us to "return" a value from a function to its caller</p>
                        <pre><code>
    def show_greeting():
        # "return" the value to the caller of the function
        return "Hello World!"

    print show_greeting()  # Prints out the returned string
                        </code></pre>
                    </section>

                     <section>
                        <p>You can also ignore the return value or assign it to a variable</p>
                        <pre><code>
    def show_greeting():
        return "Hello World!"

    show_greeting()  # Does nothing

    # Assign the returned value to a variable and print
    # them out
    greeting = show_greeting()
    print greeting
                        </code></pre>
                    </section>

					<section>
                        <p>You can pass the return value of a function to another function</p>
                        <pre><code>
    def double(x):
        return x * 2

    def triple(y):
        return y * 3

    def quadruple(z):
        return z * 4

    print quadruple(triple(double(2))) # Outputs 48
                        </code></pre>
					</section>

				</section>


				<section>
                    <h2>Variable Scoping</h2>

                    <section></section>

                    <section>
                        <p>When you create a variable inside a function, it is local, which means that it only exists inside the function.</p>
                        <p>Parameters are also local.</p>
                        <pre><code>
    def say_lol(times):
        message = "lol"
        return message * times

    print message # This will raise an error
                        </code></pre>
                    </section>

                    <section>
                        <img src="http://www.ifac.cnr.it/~zoppetti/corsopython/files/img/LEGB.png" alt="scopes"/>
                    </section>

                    <section>
                        <img src="http://www.goldencockerel.com/pic/product/102062/m_102062_a.jpg" alt="dolls"/>
                    </section>


                    <section>
                        <pre><code>
    message = 'outside' # global variable

    def foobar(qux): # qux is a local variable
        foobar_message = 'inside' # local variable
                        </code></pre>
                    </section>

                    <section>
                        <p>Global variables can be used inside a function</p>
                        <pre><code>
    message = 'outside' # global variable

    def foobar():
        print message # local variable

    foobar() # Outputs 'outside'
                        </code></pre>
                    </section>

                    <section>
                        <p>Declaring a local variable with the same name as a global variable "masks" the global variable</p>
                        <p>The function essentially refers to the local variable instead of the global variable.</p>
                        <pre><code>
    message = "Outside the function"
    count = 5

    def foobar():
        message = "Inside the function"
        count = 10
        count += 1
        print message
        print count

    foobar() # Outputs "Inside the function" and 11
    print message  # Outputs "Outside the function"
    print count # Outputs 5
                        </code></pre>
                    </section>

                    <section>
                        <a href="http://www.pythontutor.com/visualize.html#code=message+%3D+%22Outside+the+function%22%0Acount+%3D+5%0A%0Adef+foobar()%3A%0A++++message+%3D+%22Inside+the+function%22%0A++++count+%3D+10%0A++++count+%2B%3D+1%0A++++print+message%0A++++print+count%0A%0Afoobar()+%23+Outputs+%22Inside+the+function%22+and+11%0Aprint+message++%23+Outputs+%22Outside+the+function%22%0Aprint+count+%23+Outputs+5&mode=display&origin=opt-frontend.js&cumulative=false&heapPrimitives=false&textReferences=false&py=2&rawInputLstJSON=%5B%5D">Another Nifty Visualization</a>
                    </section>

                    <section>
                        <p>Each function scope is independent of other function scopes</p>
                        <pre><code>
    def akong_silingan():
        phone = "iPhone"
        print phone

    def ako():
        phone = "Samsung"
        print phone

    akong_silingan() # Outputs "iPhone"
    ako() # Outputs "Samsung"
                        </code></pre>
                    </section>

                    <section>
                        <p>It's possible to define or call functions inside another function.</p>
                        <pre><code>
    message = "global"

    def foo():
        message = "in foo"

        def bar():
            message = "in bar"
            print message

        bar()
        print message

    # 'in bar'
    # 'in foo'
    foo()
                        </code></pre>
                        </section>

                        <section>
                            <a href="http://www.pythontutor.com/visualize.html#code=message+%3D+%22global%22%0A%0Adef+foo()%3A%0A++++message+%3D+%22in+foo%22%0A%0A++++def+bar()%3A%0A++++++++message+%3D+%22in+bar%22%0A++++++++print+message%0A%0A++++bar()%0A++++print+message%0A%0A%23+'in+bar'%0A%23+'in+foo'%0Afoo()&mode=display&origin=opt-frontend.js&cumulative=false&heapPrimitives=false&textReferences=false&py=2&rawInputLstJSON=%5B%5D&curInstr=0">
                                <img src="http://upload.wikimedia.org/wikipedia/en/1/18/Inception_OST.jpg" alt="Inception"/>
                            </a>
                        </section>
                    </section>
				</section>

                <section>
                    <h2>Named Arguments</h2>
                    <section></section>

                    <section>
                        <p>So far, what we have been doing is passing arguments relative to their position in the parameter definitions.
                        </p>
                        <pre><code>
    def get_full_name(first_name, middle_name, last_name):
        return first_name + " " + middle_name + " " + last_name

    print get_full_name("Arthur", "T.", "Simon")
                        </code></pre>
                    </section>

                    <section>
                        <p>But there is another way to pass arguments. We can pass arguments via <em>named parameters</em></p>
                    </section>

                    <section>
                        <p>You can use the parameter name to specify its respective argument</p>
                        <pre><code>
    def get_full_name(first_name, middle_name, last_name):
        return first_name + " " + middle_name + " " + last_name

    print get_full_name(first_name="Arthur",
                        middle_name="T.",
                        last_name="Simon")
                        </code></pre>
                    </section>

                    <section>
                        <p>This allows us to pass arguments regardless of position</p>
                        <pre><code>
    def get_full_name(first_name, middle_name, last_name):
        return first_name + " " + middle_name + " " + last_name

    # The 2 function call below will output the same string
    print get_full_name(middle_name="T.",
                        last_name="Simon",
                        first_name="Arthur")
    print get_full_name(last_name="Simon",
                        first_name="Arthur",
                        middle_name="T.")
                        </code></pre>
                    </section>
                </section>

				<section>
                    <h2>Default/Optional Parameters </h2>

                    <section></section>

                    <section>
                        <p>Supposed that you have a function where we seem to repeatedly pass the same value over and over again</p>
                        <pre><code>
    def appendPunctuation(sentence, mark):
        return sentence + mark

    print appendPunctuation("I'm first", '.')
    print appendPunctuation("I'm second", '.')
    print appendPunctuation("I'm third", '.')
                        </code></pre>
                    </section>

                    <section>
                        <p>Function parameters can be defined to have a default value so you don't have to explicitly pass arguments, especially
                        those that seem to be used most of the time</p>
                        <pre><code>
    def appendPunctuation(sentence, mark='.'):
        return sentence + mark

    print appendPunctuation("I'm first")
    print appendPunctuation("I'm second")
    print appendPunctuation("I'm third")
                        </code></pre>
                    </section>

                    <section>
                        <p>You can then simply pass an argument to override the default value if needed</p>
                        <pre><code>
    def appendPunctuation(sentence, mark='.'):
        return sentence + mark

    print appendPunctuation("I'm first") # I'm first.
    print appendPunctuation("I'm second", '?') # I'm second?
    # I'm third!
    print appendPunctuation(mark="!", sentence="I'm third")
                        </code></pre>
                    </section>

                    <section>
                       <p>You can have as many optional parameters as you want...</p>
                       <pre><code>
    def one_parameter(a=1):
        pass

    def more_parameters(a, b=1, c=2):
        pass

    def whole_lotta_parameters(a=1, b=2, c=3, d=4, e=None):
        pass

    one_parameter() # a=1
    more_parameters(100) # a=100, b=1, c=2
    # a=1, b="b", c=3, d="d", e=None
    whole_lotta_parameters(d="d", b="b")
                       </code></pre>
                    </section>

                    <section>
                        <p>...but it needs to be after the required parameters</p>
                        <pre><code>
    # These will raise syntax errors
    def so_wrong(a=0, b, c):
        pass

    def very_wrong(a=0, b, c=1):
        pass

    # Thought experiment:
    #
    # What we would happen if we allow the
    # function above and call it?
    #
    # very_wrong(1, 2)
                        </code></pre>
                    </section>

                    <section>
                        <p>Warning: be careful with mutable types as defaults since its behaviour may not be as you
                        intended</p>
                        <pre><code>
    def foo(a, b=[]):
        b.append(a)
        return b

    print foo(1) # [1]
    print foo(2) # [1, 2]
    print foo(3) # [1, 2, 3]
                        </code></pre>
                    </section>

                    <section>
                        <p>This is the safe way to do it</p>
                        <pre><code>
    def foo(a, b=None):
        if b is None:
            b = []
        b.append(a)
        return b

    print foo(1) # [1]
    print foo(2) # [2]
    print foo(3) # [3]
                        </code></pre>
                    </section>
				</section>

                <section>
                    <h2>Arbitrary number of arguments</h2>
                    <section>
                        <img src="http://www.ohoho.si/en/iimg/390/i.jpg" width="300" height="300"/>
                    </section>
				</section>

                <section>
                    <h2>Why Functions?</h2>
                    <section></section>

                    <section>
                        <p>Creating a new function gives you an opportunity to name a group of statements, which makes your program easier to read and debug.</p>
                    </section>

                    <section>
                        <p>Functions can make a program smaller by eliminating repetitive code. Later, if you make a change, you only have to make it in one place.</p>
                    </section>

                    <section>
                        <p>Dividing a long program into functions allows you to debug the parts one at a time and then assemble them into a working whole.</p>
                    </section>

                    <section>
                        <p>Well-designed functions are often useful for many programs. Once you write and debug one, you can reuse it.</p>
                    </section>
                </section>

				<section>
                    quit()
				</section>
			</div>
		</div>

		<script src="revealjs/lib/js/head.min.js"></script>
		<script src="revealjs/js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
